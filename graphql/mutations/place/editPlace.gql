mutation editPlace(
  $placeObject: PlacesSetInput!
  $placeTagObject: [PlaceTagsInsertInput!]!
  $placeCousinObject: [PlaceCousinsInsertInput!]!
  $placeAmbianceObject: [PlaceAmbiancesInsertInput!]!
  $placeSocialMediaObject: [PlaceSocialMediasInsertInput!]!
  $id: bigint!
) {
  #  delete place tag
  deletePlaceTags(where: { placeId: { _eq: $id } }) {
    affectedRows
  }

  #  delete place cousins
  deletePlaceCousins(where: { placeId: { _eq: $id } }) {
    affectedRows
  }

  # delete place Ambiance
  deletePlaceAmbiances(where: { placeId: { _eq: $id } }) {
    affectedRows
  }

  # delete place social media
  deletePlaceSocialMedias(where: { placeId: { _eq: $id } }) {
    affectedRows
  }

  # insert place tag
  insertPlaceTags(objects: $placeTagObject) {
    affectedRows
  }

  # insert place cousins
  insertPlaceCousins(objects: $placeCousinObject) {
    affectedRows
  }

  # insert place ambiances
  insertPlaceAmbiances(objects: $placeAmbianceObject) {
    affectedRows
  }

  # insert place social  medias
  insertPlaceSocialMedias(objects: $placeSocialMediaObject) {
    affectedRows
  }

  # update place
  updatePlacesByPk(_set: $placeObject, pkColumns: { id: $id }) {
    id
  }
}
