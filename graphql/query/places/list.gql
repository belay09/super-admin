query getPlaces(
  $filter: PlacesBoolExp
  $order: [PlacesOrderBy!]
  $limit: Int
  $offset: Int
) {
  places(where: $filter, orderBy: $order, limit: $limit, offset: $offset) {
    name
    id

    status
    type

    # place tags
    placeTags {
      id
      tag {
        title
        id
      }
    }
    # place medias
    placeMedias {
      media {
        url
      }
    }
    # place aggregate
    place_aggregate_summary {
      avgDishPrice
      avgRating
      sumLikes
      minDishPrice
    }
    # review aggregate
    placeReviewsAggregate {
      aggregate {
        count
      }
    }

    # featured places
    featured_places {
      featured_place_type {
        value
      }
    }
  }

  placesAggregate(where: $filter) {
    aggregate {
      count
    }
  }
}
